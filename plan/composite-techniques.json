{
    "version": "4.6.0",
    "description": "Composite cooking techniques that expand into sequences",
    "last_updated": "2024-01-15",
    "namespaces": {
      "CT.01": "Baking Composites",
      "CT.02": "Meat Composites",
      "CT.03": "Sauce Composites",
      "CT.04": "Vegetable Composites",
      "CT.05": "Pastry Composites"
    },
    "composite_techniques": {
      "CT.01": {
        "name": "Baking Composites",
        "items": {
          "CT.01.001": {
            "name": "cream_butter_sugar",
            "description": "Standard creaming method for baking",
            "parameters": ["@butter", "@sugar", "@time"],
            "expands_to": "A.04.006 @ref:butter @time:30min -> T.02.005 @ref:butter @with:@ref:sugar @until:texture.fluffy",
            "default_time": "3-5min"
          },
          "CT.01.002": {
            "name": "fold_dry_wet",
            "description": "Folding dry ingredients into wet",
            "parameters": ["@dry", "@wet"],
            "expands_to": "T.02.003 @ref:dry @into:@ref:wet @until:state.incorporated"
          },
          "CT.01.003": {
            "name": "proof_dough",
            "description": "Complete proofing cycle",
            "parameters": ["@dough", "@time", "@temp"],
            "expands_to": "A.01.019 @ref:dough -> A.04.011 @temp:warm @time:@time @until:cue.doubled",
            "default_time": "1-2hr",
            "default_temp": "75-80F"
          },
          "CT.01.004": {
            "name": "blind_bake",
            "description": "Pre-bake pie crust",
            "parameters": ["@crust", "@temp", "@time"],
            "expands_to": "A.01.019 @ref:crust @with:parchment -> A.01.001 pie_weights -> T.03.006 @temp:@temp @time:15min -> A.01.002 pie_weights -> T.03.006 @time:@time",
            "default_temp": "375F"
          },
          "CT.01.005": {
            "name": "laminate_dough",
            "description": "Create layered pastry dough",
            "parameters": ["@dough", "@butter", "@folds"],
            "expands_to": "A.01.016 @ref:butter @on:@ref:dough -> T.02.003 -> A.04.002 @time:30min -> *repeat:@folds",
            "default_folds": 3
          }
        }
      },
      "CT.02": {
        "name": "Meat Composites",
        "items": {
          "CT.02.001": {
            "name": "reverse_sear",
            "description": "Low roast then high sear",
            "parameters": ["@meat", "@low_temp", "@low_time", "@sear_time"],
            "expands_to": "T.03.007 @ref:meat @temp:@low_temp @time:@low_time -> T.03.004 @ref:meat @time:@sear_time @per:side",
            "default_low_temp": "250F",
            "default_low_time": "30min",
            "default_sear_time": "2min"
          },
          "CT.02.002": {
            "name": "brine_roast",
            "description": "Brine then roast",
            "parameters": ["@meat", "@brine", "@brine_time", "@roast_temp", "@roast_time"],
            "expands_to": "T.05.015 @ref:meat @in:@ref:brine @time:@brine_time -> A.01.009 -> A.04.006 @time:30min -> T.03.007 @temp:@roast_temp @time:@roast_time",
            "default_brine_time": "4hr"
          },
          "CT.02.003": {
            "name": "pound_bread",
            "description": "Pound, bread, and fry cutlet",
            "parameters": ["@meat", "@breading"],
            "expands_to": "A.06.014 @ref:meat @until:thickness.1/4inch -> T.05.012 @in:flour -> T.05.012 @in:egg -> T.05.012 @in:@ref:breading -> T.03.010.pan @temp:350F @until:cue.golden"
          },
          "CT.02.004": {
            "name": "slow_braise",
            "description": "Sear and slow braise",
            "parameters": ["@meat", "@liquid", "@time", "@temp"],
            "expands_to": "T.03.004 @ref:meat @per:side -> A.01.001 @ref:liquid @until:cover.halfway -> T.03.011 @temp:@temp @time:@time",
            "default_temp": "325F",
            "default_time": "2-3hr"
          },
          "CT.02.005": {
            "name": "confit_preserve",
            "description": "Slow cook in fat",
            "parameters": ["@meat", "@fat", "@temp", "@time"],
            "expands_to": "A.01.004 @ref:meat @with:salt @time:24hr -> T.05.020 @ref:meat @in:@ref:fat @temp:@temp @time:@time",
            "default_temp": "200F",
            "default_time": "4-6hr"
          }
        }
      },
      "CT.03": {
        "name": "Sauce Composites",
        "items": {
          "CT.03.001": {
            "name": "make_roux",
            "description": "Flour-butter thickener",
            "parameters": ["@butter", "@flour", "@color"],
            "expands_to": "T.03.003 @ref:butter @until:state.melted -> A.01.001 @ref:flour -> T.02.001 @time:continuous @until:cue.@color",
            "color_options": ["blonde", "brown", "dark"]
          },
          "CT.03.002": {
            "name": "mount_butter",
            "description": "Finish sauce with butter",
            "parameters": ["@sauce", "@butter"],
            "expands_to": "A.03.006 heat -> A.01.001 @ref:butter @to:@ref:sauce -> T.02.010 @until:state.emulsified"
          },
          "CT.03.003": {
            "name": "reduce_deglaze",
            "description": "Deglaze and reduce",
            "parameters": ["@pan", "@liquid", "@reduction"],
            "expands_to": "T.05.001 @ref:pan @with:@ref:liquid -> T.05.002 @until:reduced.@reduction",
            "default_reduction": "half"
          },
          "CT.03.004": {
            "name": "make_hollandaise",
            "description": "Emulsified butter sauce",
            "parameters": ["@yolks", "@butter", "@acid"],
            "expands_to": "T.02.002 @ref:yolks @over:double_boiler -> A.01.014 @ref:butter @speed:slow @while:whisking -> A.01.001 @ref:acid -> A.05.012 @taste"
          },
          "CT.03.005": {
            "name": "make_bechamel",
            "description": "White sauce",
            "parameters": ["@butter", "@flour", "@milk"],
            "expands_to": "CT.03.001 @butter:@butter @flour:@flour @color:blonde -> A.01.001 @ref:milk @speed:gradual @while:whisking -> T.03.002 @time:10min @until:texture.smooth"
          }
        }
      },
      "CT.04": {
        "name": "Vegetable Composites",
        "items": {
          "CT.04.001": {
            "name": "sweat_aromatics",
            "description": "Gently cook aromatics",
            "parameters": ["@aromatics", "@fat", "@time"],
            "expands_to": "T.03.003 @ref:aromatics @with:@ref:fat @temp:low @time:@time @until:cue.translucent",
            "default_time": "5-7min"
          },
          "CT.04.002": {
            "name": "blanch_shock",
            "description": "Blanch and ice bath",
            "parameters": ["@vegetables", "@time"],
            "expands_to": "T.03.014 @ref:vegetables @time:@time -> T.05.007 @in:ice_water @until:temp.cold"
          },
          "CT.04.003": {
            "name": "roast_vegetables",
            "description": "High-heat roast vegetables",
            "parameters": ["@vegetables", "@temp", "@time"],
            "expands_to": "A.02.009 @ref:vegetables @with:oil -> A.05.012 @with:salt_pepper -> T.03.007 @temp:@temp @time:@time @until:cue.edges_brown",
            "default_temp": "425F"
          },
          "CT.04.004": {
            "name": "caramelize_onions",
            "description": "Slow caramelize onions",
            "parameters": ["@onions", "@time"],
            "expands_to": "T.03.003 @ref:onions @temp:medium -> A.03.004 @to:low -> T.03.003 @time:@time @interval:stir.5min @until:cue.deep_brown",
            "default_time": "45min"
          },
          "CT.04.005": {
            "name": "pickle_quick",
            "description": "Quick pickle vegetables",
            "parameters": ["@vegetables", "@brine", "@time"],
            "expands_to": "T.03.001 @ref:brine -> A.01.012 @over:@ref:vegetables -> A.04.001 @time:@time",
            "default_time": "1hr"
          }
        }
      },
      "CT.05": {
        "name": "Pastry Composites",
        "items": {
          "CT.05.001": {
            "name": "make_pie_dough",
            "description": "Standard pie crust",
            "parameters": ["@flour", "@butter", "@water"],
            "expands_to": "A.01.004 @ref:flour @with:salt -> A.01.001 @ref:butter.state.cold -> T.01.004 @until:texture.pea_sized -> A.01.001 @ref:water @gradual -> T.02.008 @until:state.just_combined -> A.04.002 @time:1hr"
          },
          "CT.05.002": {
            "name": "make_choux",
            "description": "Choux pastry",
            "parameters": ["@water", "@butter", "@flour", "@eggs"],
            "expands_to": "T.03.001 @ref:water @with:@ref:butter -> A.01.001 @ref:flour @all_at_once -> T.02.001 @vigorous @until:forms.ball -> A.04.001 @time:5min -> A.01.001 @ref:eggs @one_at_time @until:texture.smooth"
          },
          "CT.05.003": {
            "name": "make_custard",
            "description": "Egg custard base",
            "parameters": ["@milk", "@eggs", "@sugar", "@temp"],
            "expands_to": "T.03.003 @ref:milk @until:steaming -> T.02.002 @ref:eggs @with:@ref:sugar -> T.05.004 @with:hot_milk -> T.03.003 @temp:low @while:stirring @until:temp.@temp",
            "default_temp": "170F"
          },
          "CT.05.004": {
            "name": "make_ganache",
            "description": "Chocolate ganache",
            "parameters": ["@chocolate", "@cream", "@ratio"],
            "expands_to": "T.03.003 @ref:cream @until:steaming -> A.01.012 @over:@ref:chocolate -> A.04.010 @time:2min -> T.02.001 @from:center @until:texture.smooth",
            "default_ratio": "1:1"
          },
          "CT.05.005": {
            "name": "make_buttercream",
            "description": "Buttercream frosting",
            "parameters": ["@butter", "@sugar", "@type"],
            "expands_to": {
              "american": "T.02.005 @ref:butter @until:fluffy -> A.01.001 @ref:sugar @gradual -> T.02.004 @until:texture.smooth",
              "swiss": "T.02.002 @ref:eggs @with:@ref:sugar @over:double_boiler @until:temp.160F -> T.02.006 @until:cool -> A.01.001 @ref:butter @gradual",
              "italian": "T.03.001 sugar_syrup @to:240F -> A.01.014 @into:whipping_eggs -> T.02.006 @until:cool -> A.01.001 @ref:butter"
            }
          }
        }
      }
    },
    "expansion_rules": {
      "parameter_inheritance": "Parameters from composite call override defaults in expansion",
      "label_scope": "Labels created in composite are scoped to that composite",
      "error_handling": "If expansion fails, return original composite code",
      "recursive_expansion": "Composites can reference other composites",
      "conditional_expansion": "Use {} for conditional paths in expansion"
    },
    "usage_examples": [
      {
        "input": "CT.02.001 @meat:2.21.001.form.ribeye",
        "output": "T.03.007 2.21.001.form.ribeye @temp:250F @time:30min -> T.03.004 2.21.001.form.ribeye @time:2min @per:side"
      },
      {
        "input": "CT.03.001 @butter:3.53.002 @flour:4.64.001 @color:brown",
        "output": "T.03.003 3.53.002 @until:state.melted -> A.01.001 4.64.001 -> T.02.001 @time:continuous @until:cue.brown"
      }
    ]
  }
